# Review Dashboard Frontend

The frontend for the Review Dashboard for Dataverse. It can be build with Angular CLI  14.1.2. Please note that it requires the Review Dashboard Backend API to function. 

## Usage
The frontend provides an overview of the Datasets in the various stages of curation and guides the reviewer through the dataset review process. User needs to be logged on through their institutional logins, and have a reviewer or admin role in the Dataverse to access the Review Dashboard. 

The dashboard organizes review into the following screens:

Selection -> Details -> Feedback -> Publish/Return

### Selection:
In this screen, the user can see a list of datasets in Dataverse, organized into tabs. To adjust the number of datasets per page, enter the number in the textbox at the bottom of the page and press enter. 

**My Reviews** tab presents the datasets that are in the **In Review** stage and are assigned to them. Here, the user can proceed to the review by clicking **Review** button, or **Unassign** themselves from the dataset. Users with the **Admin** role can also **Change Reviewer** of the dataset. 

> [!TIP] 
> The button representing the next stage of the review (in this case **Review**),  is always highlighted in blue. 

**Submitted for Review** This tab displays the datasets that were submitted for review but not yet picked by a reviewer. The user can select a dataset for review using the **Assign** button, or **View Details** of the dataset before assigning it. **Admins** can assign the dataset to other reviewers as well by selecting reviewer from the pop-up list. 

**In Review** presents all the datasets that are currently in review. The assigned reviewer's name can be seen in a tag, with the user icon. Admins can review datasets even without assigning them to themselves. This can be useful when they need to take over the review temporarily. 

**Published** The datasets that are already published. 

**All** All of the datasets in the dataverse.

### Details:
The details screen presents not only more detailed information, such as the disk size of the dataset, but also the **Review Checklist** and **Internal Notes**. 

The first section contains the following buttons:
    **View dataset in [Dataverse name]:** A link to the dataset in the dataverse, for the reviewer to examine in detail.
    **Contact dataset creators:** A _mailto_ link, which will open an email compose in the locally installed email editor with the dataset contact's email, name and dataset DOI are automatically added. 
    **Ask for support:** Selecting this option will add a **Support requested** flag to the dataset that is visible in the selection screen. It will also notify with an email the helpdesk, that support has been requested for the dataset. The **Internal Notes** are added to the support email.

**Review Checklist** This section contains a checklist of criteria to be checked by the reviewer which datasets must meet before being published. This list is generated based on **dataset_issue_definitions.json** in the backend. It is organized into categories based on the **category** property in the json file, and the items are based on the **condition** property. For information on the configuration, see the backend configuration docs. The checklist state is automatically saved. 

**Internal Notes** In this section, the user can take notes about the review. The contents of the internal notes field are automatically saved. 

> [!IMPORTANT] 
> The internal notes are not shared with the dataset creators, but are shared with the helpdesk when **ask for support** is clicked. They also persist between reviewers and reviews. 

### Feedback:
The feedback screen is where the user can see an overview or the review and make a decision on whether to publish the dataset or return it to the author. A feedback email is also autogenerated and can be further edited. 

**Summary** This section presents the overview of the review.
    **Issues:** The issues found in the dataset. These are the checkboxes that are unchecked in the previous screen, populated using the **warning** field in the **dataset_issue_definitions.json**.
    **Notes:** Notes that were saved in the previous screen.

**Feedback** This section contains the latest saved state of the feedback email to be sent to the author that was autogenerated using the information from the checkbox and edited by the user. The **Clear** button deletes the email, and **Generate from the Checklist** regenerates the email. The feedback email is persistent and saved after each edit. 

Note that, changing the checkboxes do not regenerate the email automatically after it was generated once. If you made changes in the checkboxes, you need to click **Generate from Checklist** to autogenerate a new email from them. This will also delete the previously saved email.

**Publish** To proceed to publishing the dataset. 
**Return** Return the dataset to the author. A feedback email will be sent to the dataset contact.  

### Publish/Return
This screen lets the user to finalize their decision to publish the dataset or return it to the author. 

**Publish** 
If it is not the first version of the dataset, you will be presented with a selection between a **Major** or **Minor** release, or **Update current version**. A major release increases the major version of the dataset, such as 1.0 to 2.0. A minor release increases the minor version, such as 1.0 to 1.1. If the dataset is previously not released it will be released as 1.0.

> [!Note]
> If dataset files were modified, only a major release is possible. 

Select **Publish dataset** in this screen to finalize publishing. 

**Return**
If the user has selected **Return**, this screen will give a preview of the feedback email. 
Select **Return dataset** in this screen to return the dataset and send the feedback email. 
